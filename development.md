## План поэтапной разработки и расширения системы

Существующие приложения компании обособлены друг от друга, реализованы отдельно и сервисы, обслуживающие их находятся у разных облачных провайдеров. В целях взаимной интеграции приложений и сервисов, необходимо поменять ранее принятый подход.

**Текущий подход**

![Текущий подход](/images/architecture-step-0.png)

**Шаг 1: API Gateway**

На первом этапе предполагается реализовать общий API шлюз для доступа к существующим сервисам приложений не трогая существующие связи, однако, при создании новых приложений или разворачивании новых сервисов у нового/существующего провайдера - доступ осуществлять только через API шлюз.

![API Gateway](/images/architecture-step-1.png)

**Шаг 2: Единая точка входа**

После реализации шлюза, необходимо перейти с прямого доступа к облачным сервисам на доступ через интерфейс API шлюза.

![Единая точка входа](/images/architecture-step-2.png)

Это самый долгий и важный этап. Долгий - потому что ранее написанные приложения и сервисы разрабатывались без учета общего слоя api и стратегии приведения всех приложений к “общему знаменателю”. На этом этапе в зависимости от результатов анализа каждого приложения и его инфраструктуры, необходимо принимать решения (ADR), взвешивая все за и против, находя баланс при объединении всех приложений в одну общую структуру.

**Важные моменты реализации**

Если логика доступа разная и есть у каждого приложения своя “админка”, а реализация общей требует огромных вложений без видимого бизнес-эффекта, то предлагается оставить управление ролями объединяемых приложений “как есть”, объединяя значения субъектов доступа в одном едином агрегате. 

![Единая точка входа](/images/architecture-tip-1.png)